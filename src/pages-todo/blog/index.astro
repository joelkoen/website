---
import Page from "@/layouts/Page.astro";
import FormatDate from "@/components/FormatDate.astro";

const posts = (await Astro.glob("./*.{md,mdx}")).sort(
  (a, b) =>
    new Date(b.frontmatter.pubDate).valueOf() -
    new Date(a.frontmatter.pubDate).valueOf()
);
---

<Page content={{ title: "Blog" }}>
  <ul>
    {
      posts.map((post) => (
        <li>
          <FormatDate date={post.frontmatter.pubDate} />
          <a href={post.url}>{post.frontmatter.title}</a>
        </li>
      ))
    }
  </ul>
</Page>
